@using HotelReservation.ViewModels
@model object

<div class="container justify-content-center text-center">
    <div class="row justify-content-center">
        <div style="width:16%">
            <div class="card text-center rounded" id="cardUser" style="cursor: pointer; display:flex; justify-content:end">
                <img src="~/Images/avatar.png" class="card-img-top p-2" alt="User">
                <div class="card-body">
                    <h5 class="card-title" style="font-size: 15px;">Register as User</h5>
                </div>
            </div>
        </div>
        <div style="width:16%">
            <div class="card text-center rounded" id="cardHotel" style="cursor: pointer;">
                <img src="~/Images/hotel.png" class="card-img-top p-2" alt="Hotel">
                <div class="card-body">
                    <h5 class="card-title" style="font-size: 15px;">Register as Hotel</h5>
                </div>
            </div>
        </div>
    </div>
</div>

<form id="registerUserForm" asp-action="RegisterUser" style="display: none;">
    @Html.Partial("_UserRegistrationForm", new UserRegistrationViewModel())
    <div class="text-center mt-3">
        <button type="button" class="btn btn-secondary btn-block" style="width: 150px;" onclick="goBack()">Back</button>
    </div>
</form>

<form id="registerHotelForm" asp-action="RegisterHotel" style="display: none;">
    @Html.Partial("_HotelRegistrationForm", new HotelRegistrationViewModel())
    <div class="text-center mt-3">
        <button type="button" class="btn btn-secondary btn-block" style="width: 150px;" onclick="goBack()">Back</button>
    </div>
</form>

@section Scripts {
    <script>
        document.getElementById("cardUser").addEventListener("click", function () {
            showRegistrationForm("User");
        });

        document.getElementById("cardHotel").addEventListener("click", function () {
            showRegistrationForm("Hotel");
        });

        function showRegistrationForm(userType) {
            // Remove active border from both cards
            document.getElementById("cardUser").classList.remove("border", "border-primary");
            document.getElementById("cardHotel").classList.remove("border", "border-primary");

            if (userType === "User") {
                document.getElementById("cardUser").classList.add("border", "border-primary");
                document.getElementById("registerUserForm").style.display = "block";
                document.getElementById("registerHotelForm").style.display = "none";
            } else if (userType === "Hotel") {
                document.getElementById("cardHotel").classList.add("border", "border-primary");
                document.getElementById("registerUserForm").style.display = "none";
                document.getElementById("registerHotelForm").style.display = "block";
            }
        }

        function goBack() {
            document.getElementById("registerUserForm").style.display = "none";
            document.getElementById("registerHotelForm").style.display = "none";
            document.getElementById("cardUser").classList.remove("border", "border-primary");
            document.getElementById("cardHotel").classList.remove("border", "border-primary");
        }

        window.onload = function () {
            document.getElementById("registerUserForm").style.display = "none";
            document.getElementById("registerHotelForm").style.display = "none";
        };
    </script>
}
